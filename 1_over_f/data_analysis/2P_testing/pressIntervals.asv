A=[0 0 0 0 1 1 0 0 1 1 1 1 0 0 0 0 1 1 1 1 1 0 0 0 ];
pressInd=find([0 diff(A)]==1)
pressIntervals=[pressInd(1) diff(pressInd)]

%% extrat time points for key presses, pacers,feedbacks


% look for values 
plot(time,botton1data,'bo'); % view time course of botton press values
PresInd=find(botton1data ~= 255 & botton1data ~= 0); % extract Index of real key presses in the values
plot(PresInd,ones(1,length(PresInd)),'ro'); % look at the above Index (one press produced several indices)
threshold = NumFramesInterval*ifi*sr/4; % determine a threshold of key press interval
BottonPresTimeInd=PresInd(find([1 diff(PresInd')>threshold])); % exact index of key press onset in datatimes (reduce several indices into one)

% create a time series that assign botton presses as 1, all other as 0
BottonPresTime01=zeros(size(time));
BottonPresTime01(BottonPresTimeInd)=1;
plot(BottonPresTime01)